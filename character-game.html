<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>角色真心話</title>
    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: #1a1a2e; 
            color: white; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh; /* 填滿手機高度 */
            width: 100vw;
            overflow: hidden;
        }

        .container { 
            background: #16213e; 
            padding: 20px; 
            border-radius: 20px; 
            width: 90%; 
            max-width: 400px; /* 電腦端不會過大 */
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 350px;
        }

        .stats { 
            display: flex; 
            justify-content: space-between; 
            font-size: 14px; 
            color: #4ecca3; 
            font-weight: bold;
            margin-bottom: 10px;
        }

        #q-text { 
            font-size: 1.3rem; 
            line-height: 1.5; 
            margin: 20px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dare-box { 
            background: #e94560; 
            padding: 15px; 
            border-radius: 12px; 
            margin: 10px 0; 
            border: 2px dashed white;
            font-size: 1.1rem;
            animation: fadeIn 0.3s ease;
        }

        .btn-group { width: 100%; }

        button { 
            width: 100%; 
            padding: 16px; 
            margin: 8px 0; 
            border: none; 
            border-radius: 12px; 
            font-size: 1.1rem; 
            font-weight: bold; 
            cursor: pointer;
            transition: transform 0.1s, opacity 0.2s;
            touch-action: manipulation; /* 優化手機點擊延遲 */
        }

        button:active { transform: scale(0.96); opacity: 0.8; }

        .btn-start, .btn-share { background: #4ecca3; color: #1a1a2e; }
        .btn-skip { background: #e94560; color: white; }
        .btn-done { background: #f9d371; color: #1a1a2e; }
        .btn-home { background: #334155; color: white; margin-top: 10px; }

        .hidden { display: none !important; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<div class="container">
    <div id="game-content">
        <div class="stats">
            <span>進度: <span id="q-count">0</span>/30</span>
            <span style="color:#e94560;">略過: <span id="s-count">0</span>/8</span>
        </div>

        <h2 id="q-text">準備好了解彼此了嗎？</h2>
        <div id="dare-box" class="dare-box hidden"></div>
    </div>

    <div class="btn-group">
        <button id="btn-start" class="btn-start" onclick="startGame()">開始遊戲</button>
        
        <button id="btn-share" class="btn-share hidden" onclick="handleShare()">我已分享 ✅ (下一題)</button>
        <button id="btn-skip" class="btn-skip hidden" onclick="handleSkip()">Dare to Skip (挑戰任務)</button>
        
        <button id="btn-done" class="btn-done hidden" onclick="handleDone()">任務完成 (Done)</button>

        <div id="end-screen" class="hidden">
            <h2 id="end-msg" style="color:#4ecca3;"></h2>
            <button class="btn-start" onclick="location.reload()">再玩一次</button>
            <button class="btn-home" onclick="location.href='index.html'">回大廳</button>
        </div>
    </div>
</div>

<script>
    var questions = ["你最害怕失去什麼？", "如果你中了大獎第一件事買什麼？", "你最受不了別人什麼行為？", "心目中完美的約會？", "最自豪的事？", "壓力大怎麼宣洩？", "想跟誰交換人生一天？", "最不擅長的人際關係？", "外表最滿意的地方？", "想改掉的壞習慣？", "預知未來想看什麼？", "最愛的童年回憶？", "超能力選什麼？", "理智派還是感性派？", "感動的電影或書？", "最尷尬的事？", "嚮往的生活地點？", "什麼樣的人吸引你？", "剩最後一天想做什麼？", "不為人知的才華？", "受不了的食物？", "理想工作？", "友誼最重要的一點？", "後悔過的決定？", "想回到哪個時刻？", "容易相信人嗎？", "什麼讚美最開心？", "如何面對失敗？", "不喜歡自己性格哪點？", "想變什麼動物？", "心目中的英雄？", "放鬆方式？", "最大的優點？", "自傳書名？", "對誰有過愧疚？", "最愛的季節？", "不考慮錢想做什麼？", "愛情不能原諒的事？", "最棒的禮物？", "重視過程還是結果？", "特殊蒐藏？", "喜歡的音樂？", "想跟哪個死者對話？", "最幸福的時刻？", "成功的定義？", "未開發的潛力？", "喜歡獨處嗎？", "最重視的價值觀？", "夢想的生活？", "不當現在職業會做什麼？"];
    
    var dares = ["做5個表情", "朗讀手機最後一條訊息", "喝下一杯水", "模仿現場一個人", "笑出聲 20 秒", "閉眼5分鐘", "展示相簿最後一張照片", "誇獎自己 30 秒", "無實物表演一段生活動作", "讓右邊的人在你手上畫圖"];

    var
